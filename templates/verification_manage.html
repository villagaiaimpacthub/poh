{% extends 'base.html' %}

{% block title %}Verification Management - Proof of Humanity{% endblock %}

{% block content %}
<div class="verification-container">
    <div class="verification-header">
        <h1 class="verification-title">Your Verification Journey</h1>
        <p class="verification-subtitle">Complete verification stages to unlock new features and privileges</p>
    </div>
    
    <div class="progress-container">
        <div class="progress-header">
            <h2 class="progress-title">Your Verification Progress</h2>
            <div class="progress-percentage">0%</div>
        </div>
        
        <div class="progress-bar">
            <div class="progress-fill" style="width: 0%;"></div>
        </div>
        
        <div class="level-connector"></div>
        <div class="verification-levels">
            <div class="verification-level">
                <div class="level-icon active">
                    <i class="fas fa-child"></i>
                </div>
                <div class="level-label">Child</div>
                <div class="level-description">Basic verification</div>
            </div>
            
            <div class="verification-level">
                <div class="level-icon">
                    <i class="fas fa-user"></i>
                </div>
                <div class="level-label">Parent</div>
                <div class="level-description">Verify others</div>
            </div>
            
            <div class="verification-level">
                <div class="level-icon">
                    <i class="fas fa-user-tie"></i>
                </div>
                <div class="level-label">Grandparent</div>
                <div class="level-description">Council member</div>
            </div>
            
            <div class="verification-level">
                <div class="level-icon">
                    <i class="fas fa-crown"></i>
                </div>
                <div class="level-label">Full Access Node</div>
                <div class="level-description">Gold level</div>
            </div>
        </div>
    </div>
    
    <h2 class="section-title">Your Current Stage: <span class="stage-highlight">None</span></h2>
    
    <div class="verification-stages">
        <div class="stage-card">
            <div class="stage-icon">
                <i class="fas fa-child"></i>
            </div>
            <div class="stage-header">
                <h3 class="stage-title">Child Verification</h3>
                <div class="stage-subtitle">Level 1</div>
            </div>
            <div class="stage-description">
                Complete a short video call with your first family unit to confirm your identity.
            </div>
            <div class="stage-status">
                Status: <span class="status-label status-in-progress">In Progress</span>
            </div>
            <div class="stage-action">
                <a href="{{ url_for('verification_call') }}" class="btn-verification btn-primary-verification">Schedule Call</a>
            </div>
        </div>
        
        <div class="stage-card">
            <div class="stage-icon">
                <i class="fas fa-user"></i>
            </div>
            <div class="stage-header">
                <h3 class="stage-title">Parent Verification</h3>
                <div class="stage-subtitle">Level 2</div>
            </div>
            <div class="stage-description">
                Invite 3 new users and validate their humanity by participating in a verification call with them and your inviting parent.
            </div>
            <div class="stage-status">
                Status: <span class="status-label status-locked">Locked</span>
            </div>
            <div class="stage-action">
                <button class="btn-verification btn-disabled">Locked</button>
            </div>
        </div>
        
        <div class="stage-card">
            <div class="stage-icon">
                <i class="fas fa-user-tie"></i>
            </div>
            <div class="stage-header">
                <h3 class="stage-title">Grandparent Verification</h3>
                <div class="stage-subtitle">Level 3</div>
            </div>
            <div class="stage-description">
                Become a grandparent when your children have children and complete the Proof of Humanity verification process.
            </div>
            <div class="stage-status">
                Status: <span class="status-label status-locked">Locked</span>
            </div>
            <div class="stage-action">
                <button class="btn-verification btn-disabled">Locked</button>
            </div>
        </div>
    </div>
    
    <div class="benefits-of-verification">
        <div class="benefits-header">
            <h2 class="benefits-title">Benefits of Verification</h2>
            <p class="benefits-subtitle">Unlock powerful features as you progress through verification levels</p>
        </div>
        
        <div class="benefits-grid">
            <div class="benefit-item">
                <div class="benefit-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <h3 class="benefit-title">Increased Security</h3>
                <p class="benefit-description">
                    Verified accounts have enhanced security protections and recovery options.
                </p>
            </div>
            
            <div class="benefit-item">
                <div class="benefit-icon">
                    <i class="fas fa-users"></i>
                </div>
                <h3 class="benefit-title">Trust Network</h3>
                <p class="benefit-description">
                    Join a trusted network of verified humans for safer interactions.
                </p>
            </div>
            
            <div class="benefit-item">
                <div class="benefit-icon">
                    <i class="fas fa-unlock-alt"></i>
                </div>
                <h3 class="benefit-title">Exclusive Features</h3>
                <p class="benefit-description">
                    Access special features only available to verified members.
                </p>
            </div>
            
            <div class="benefit-item">
                <div class="benefit-icon">
                    <i class="fas fa-coins"></i>
                </div>
                <h3 class="benefit-title">Reputation Tokens</h3>
                <p class="benefit-description">
                    Earn reputation tokens as you progress through verification levels.
                </p>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Animate progress bar on page load
        setTimeout(function() {
            const progressFill = document.querySelector('.progress-fill');
            const progressPercentage = document.querySelector('.progress-percentage');
            
            // Set progress to 0% initially (adjust based on actual progress)
            const progress = 0;
            progressFill.style.width = progress + '%';
            progressPercentage.textContent = progress + '%';
            
            // Update level icons based on progress
            const levelIcons = document.querySelectorAll('.level-icon');
            levelIcons.forEach((icon, index) => {
                const levelThreshold = index * 33.33; // 3 levels (0%, 33%, 66%, 100%)
                if (progress >= levelThreshold) {
                    icon.classList.add('active');
                } else {
                    icon.classList.remove('active');
                }
            });
        }, 500);
    });
</script>
{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/verification.css') }}?v={{ now().strftime('%Y%m%d%H%M%S') }}">
<style>
    .verification-header {
        text-align: center;
        margin-bottom: 3rem;
        padding: 2rem;
        background: rgba(15, 23, 42, 0.4);
        border-radius: 16px;
        border: 1px solid rgba(122, 67, 255, 0.2);
    }
    
    .verification-title {
        font-size: 2.5rem;
        margin-bottom: 1rem;
        background: linear-gradient(to right, var(--primary, #7a43ff), var(--secondary, #43d1ff));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }
    
    .verification-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem;
    }
    
    /* Progress Bar Improvements */
    .progress-container {
        margin: 2rem 0;
        background: rgba(15, 23, 42, 0.5);
        border-radius: 10px;
        padding: 2rem;
        border: 1px solid rgba(122, 67, 255, 0.2);
    }
    
    .progress-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
    }
    
    .progress-title {
        font-size: 1.5rem;
        font-weight: 600;
        color: #fff;
    }
    
    .progress-percentage {
        font-size: 1.5rem;
        font-weight: 700;
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }
    
    .progress-bar {
        height: 12px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 6px;
        overflow: hidden;
        margin-bottom: 1.5rem;
        position: relative;
    }
    
    .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 100%);
        border-radius: 6px;
        width: 0%;
        transition: width 1s ease-in-out;
    }
    
    /* Verification Stages */
    .verification-levels {
        display: flex;
        justify-content: space-between;
        margin-top: 0.5rem;
        position: relative;
    }
    
    .verification-level {
        text-align: center;
        position: relative;
        width: 25%; /* Now 4 levels including Full Access */
    }
    
    .level-icon {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: rgba(15, 23, 42, 0.6);
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto;
        border: 1px solid rgba(122, 67, 255, 0.2);
        color: rgba(255, 255, 255, 0.7);
        font-size: 24px;
        transition: all 0.3s ease;
    }
    
    .level-icon.active {
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: white;
        box-shadow: 0 0 20px rgba(122, 67, 255, 0.5);
        transform: scale(1.1);
    }
    
    .level-label {
        margin-top: 0.75rem;
        font-weight: 600;
        color: rgba(255, 255, 255, 0.7);
    }
    
    .level-description {
        font-size: 0.85rem;
        color: rgba(255, 255, 255, 0.5);
        margin-top: 0.25rem;
    }
    
    .level-connector {
        position: absolute;
        height: 4px;
        background: rgba(255, 255, 255, 0.1);
        top: 30px;
        width: 75%;
        left: 12.5%;
        z-index: 0;
    }
    
    /* Verification Stage Cards */
    .verification-stages {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        margin-top: 3rem;
    }
    
    .stage-card {
        background: rgba(15, 23, 42, 0.5);
        border-radius: 16px;
        padding: 2rem;
        transition: all 0.3s ease;
        border: 1px solid rgba(122, 67, 255, 0.2);
        height: 100%;
    }
    
    .stage-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        border-color: rgba(122, 67, 255, 0.4);
    }
    
    .stage-icon {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: linear-gradient(135deg, rgba(122, 67, 255, 0.2), rgba(67, 209, 255, 0.2));
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 1.5rem;
        font-size: 1.5rem;
        color: var(--primary);
    }
    
    .stage-header {
        margin-bottom: 1rem;
    }
    
    .stage-title {
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
        color: white;
    }
    
    .stage-subtitle {
        font-size: 1rem;
        color: rgba(255, 255, 255, 0.6);
    }
    
    .stage-description {
        margin-bottom: 2rem;
        color: rgba(255, 255, 255, 0.7);
        line-height: 1.6;
    }
    
    .stage-status {
        display: flex;
        align-items: center;
        margin-bottom: 1.5rem;
        color: rgba(255, 255, 255, 0.6);
    }
    
    .status-label {
        padding: 0.35rem 0.75rem;
        border-radius: 20px;
        font-size: 0.875rem;
        font-weight: 600;
        margin-left: 0.5rem;
    }
    
    .status-in-progress {
        background: rgba(255, 159, 67, 0.2);
        color: #ff9f43;
    }
    
    .status-locked {
        background: rgba(231, 76, 60, 0.2);
        color: #e74c3c;
    }
    
    .status-completed {
        background: rgba(46, 204, 113, 0.2);
        color: #2ecc71;
    }
    
    .stage-action {
        margin-top: auto;
    }
    
    .btn-verification {
        width: 100%;
        padding: 0.875rem;
        border-radius: 8px;
        font-weight: 600;
        transition: all 0.3s ease;
        text-align: center;
        cursor: pointer;
    }
    
    .btn-primary-verification {
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: white;
        border: none;
    }
    
    .btn-primary-verification:hover {
        transform: translateY(-3px);
        box-shadow: 0 7px 14px rgba(122, 67, 255, 0.3);
    }
    
    .btn-disabled {
        background: rgba(255, 255, 255, 0.1);
        color: rgba(255, 255, 255, 0.4);
        cursor: not-allowed;
    }
    
    /* Benefits Section */
    .benefits-of-verification {
        margin-top: 4rem;
        text-align: center;
    }
    
    .benefits-header {
        margin-bottom: 2rem;
    }
    
    .benefits-title {
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 1rem;
        background: linear-gradient(to right, var(--primary), var(--secondary));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }
    
    .benefits-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 2rem;
        margin-top: 2rem;
    }
    
    .benefit-item {
        background: rgba(15, 23, 42, 0.5);
        padding: 2rem;
        border-radius: 16px;
        border: 1px solid rgba(122, 67, 255, 0.2);
        transition: all 0.3s ease;
    }
    
    .benefit-item:hover {
        transform: translateY(-5px);
        border-color: rgba(122, 67, 255, 0.4);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }
    
    .benefit-icon {
        width: 60px;
        height: 60px;
        background: linear-gradient(135deg, rgba(122, 67, 255, 0.1), rgba(67, 209, 255, 0.1));
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1.5rem;
        font-size: 1.5rem;
        color: var(--primary);
    }
    
    .benefit-title {
        font-size: 1.25rem;
        font-weight: 600;
        margin-bottom: 1rem;
        color: white;
    }
    
    .benefit-description {
        color: rgba(255, 255, 255, 0.7);
        line-height: 1.6;
    }
</style>
{% endblock %} 